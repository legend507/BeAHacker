/*
From "Hacking: the art of exploitation"

GNU C compiled programs have table sections .dtors and .ctors for destructors and constructors.
Constructor functions are executed before main(), destructor functions are executed just before main() is about to end

*/

#include <stdio.h>
#include <stdlib.h>

// give cleanup() destructor attribute, in this way we can define cleanup() a destructor func
static void cleanup(void) __attribute__ ((destructor));

main() {
    printf("Some Actions happen in main() function...\n");
    printf("and then when main() exits, the destructor is called...\n");

    exit(0);
}

void cleanup(void) {
    printf("In the cleanup func...\n");
}

/*
To Do: finish this, reading p.184

*/
